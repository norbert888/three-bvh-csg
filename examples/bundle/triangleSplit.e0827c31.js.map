{"mappings":"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","sources":["examples/triangleSplit.js"],"sourcesContent":["import * as THREE from 'three';\nimport { TransformControls } from 'three/examples/jsm/controls/TransformControls.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { TriangleSplitter, TriangleSetHelper } from '..';\n\nlet renderer, camera, scene;\nlet controls, transformControls;\nlet planeObject, planeHelper;\nlet splitter, clippedTris, initialTris;\nlet plane = new THREE.Plane();\nlet _vec = new THREE.Vector3();\n\nconst ogTris = [\n\tnew THREE.Triangle(\n\t\tnew THREE.Vector3( - 0.25, 1.25, 0.25 ),\n\t\tnew THREE.Vector3( - 0.25, 0.25, 0.25 ),\n\t\tnew THREE.Vector3( - 1.25, 1.25, 0.25 ),\n\t)\n];\n\nconst tris = [\n\tnew THREE.Triangle(\n\t\tnew THREE.Vector3( - 0.5, 0.5, - 0.5 ),\n\t\tnew THREE.Vector3( - 0.5, - 0.5, - 0.5 ),\n\t\tnew THREE.Vector3( - 0.5, 0.5, 0.5 ),\n\t),\n\tnew THREE.Triangle(\n\t\tnew THREE.Vector3( - 0.5, 0.5, - 0.5 ),\n\t\tnew THREE.Vector3( - 0.5, 0.5, 0.5 ),\n\t\tnew THREE.Vector3( 0.5, 0.5, - 0.5 ),\n\t),\n\t// new THREE.Triangle(\n\t// \tnew THREE.Vector3( -0.5, 0.5, 0.5 ),\n\t// \tnew THREE.Vector3( 0.5, 0.5, 0.5 ),\n\t// \tnew THREE.Vector3( 0.5, 0.5, -0.5 ),\n\t// ),\n];\n\ninit();\nrender();\n\nfunction init() {\n\n\tconst bgColor = 0x111111;\n\n\t// renderer setup\n\trenderer = new THREE.WebGLRenderer( { antialias: true } );\n\trenderer.setPixelRatio( window.devicePixelRatio );\n\trenderer.setSize( window.innerWidth, window.innerHeight );\n\trenderer.setClearColor( bgColor, 1 );\n\tdocument.body.appendChild( renderer.domElement );\n\n\t// scene setup\n\tscene = new THREE.Scene();\n\tscene.fog = new THREE.Fog( 0xffca28, 20, 60 );\n\n\tconst light = new THREE.DirectionalLight( 0xffffff, 3.5 );\n\tlight.position.set( - 1, 2, 3 );\n\tscene.add( light );\n\tscene.add( new THREE.AmbientLight( 0xb0bec5, 0.35 ) );\n\n\t// camera setup\n\tcamera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 50 );\n\tcamera.position.set( 1, 2, 4 );\n\tcamera.far = 100;\n\tcamera.updateProjectionMatrix();\n\n\tcontrols = new OrbitControls( camera, renderer.domElement );\n\n\ttransformControls = new TransformControls( camera, renderer.domElement );\n\ttransformControls.addEventListener( 'dragging-changed', e => {\n\n\t\tcontrols.enabled = ! e.value;\n\n\t} );\n\tscene.add( transformControls );\n\n\tplaneObject = new THREE.Object3D();\n\ttransformControls.attach( planeObject );\n\tscene.add( planeObject );\n\tplaneObject.position.z = 0.5;\n\tplaneObject.rotation.y = Math.PI / 2;\n\n\tplaneHelper = new THREE.PlaneHelper( plane );\n\tscene.add( planeHelper );\n\n\tinitialTris = new TriangleSetHelper();\n\tclippedTris = new TriangleSetHelper();\n\n\tsplitter = new TriangleSplitter();\n\n\tscene.add( initialTris, clippedTris );\n\n\twindow.addEventListener( 'resize', function () {\n\n\t\tcamera.aspect = window.innerWidth / window.innerHeight;\n\t\tcamera.updateProjectionMatrix();\n\n\t\trenderer.setSize( window.innerWidth, window.innerHeight );\n\n\t}, false );\n\n}\n\nfunction render() {\n\n\trequestAnimationFrame( render );\n\n\t_vec.set( 0, 0, 1 ).transformDirection( planeObject.matrixWorld );\n\tplane.setFromNormalAndCoplanarPoint( _vec, planeObject.position );\n\n\tsplitter.initialize( ogTris );\n\ttris.forEach( t => {\n\n\t\tsplitter.splitByTriangle( t );\n\n\t} );\n\n\tplaneHelper.visible = false;\n\ttransformControls.visible = false;\n\ttransformControls.enabled = false;\n\n\tclippedTris.setTriangles( splitter.triangles );\n\tinitialTris.setTriangles( [ ...ogTris, ...tris ] );\n\n\trenderer.render( scene, camera );\n\n}\n"],"names":["$ilwiq","parcelRequire","$1d912cde2de9d823$var$renderer","$1d912cde2de9d823$var$camera","$1d912cde2de9d823$var$scene","$1d912cde2de9d823$var$controls","$1d912cde2de9d823$var$transformControls","$1d912cde2de9d823$var$planeObject","$1d912cde2de9d823$var$planeHelper","$1d912cde2de9d823$var$splitter","$1d912cde2de9d823$var$clippedTris","$1d912cde2de9d823$var$initialTris","$1d912cde2de9d823$var$plane","Plane","$1d912cde2de9d823$var$_vec","Vector3","$1d912cde2de9d823$var$ogTris","Triangle","$1d912cde2de9d823$var$tris","WebGLRenderer","antialias","setPixelRatio","window","devicePixelRatio","setSize","innerWidth","innerHeight","setClearColor","document","body","appendChild","domElement","Scene","fog","Fog","light","DirectionalLight","position","set","add","AmbientLight","PerspectiveCamera","far","updateProjectionMatrix","$5Rd1x","OrbitControls","$fUhpq","TransformControls","addEventListener","e","enabled","value","Object3D","attach","z","rotation","y","Math","PI","PlaneHelper","$4CEV9","TriangleSetHelper","TriangleSplitter","aspect","$1d912cde2de9d823$var$init","$1d912cde2de9d823$var$render","requestAnimationFrame","transformDirection","matrixWorld","setFromNormalAndCoplanarPoint","initialize","forEach","t","splitByTriangle","visible","setTriangles","triangles","render"],"version":3,"file":"triangleSplit.e0827c31.js.map"}