var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},t=e.parcelRequirefee5;null==t&&((t=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return o[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,o){n[e]=o},e.parcelRequirefee5=t);var i=t("ilwiq"),r=t("jiuw3"),a=t("fUhpq"),s=t("5Rd1x"),d=t("4CEV9");const p={snap:!0,wireframe:!1,displayControls:!0,transparentBrushes:!0,display:"OVERLAY"};let w,l,c,y,m,f,O,u,h,x,B,T,g,I;function C(){requestAnimationFrame(C);const e=window.performance.now();p.transparentBrushes?(T.depthWrite=!1,T.transparent=!0,T.opacity=.15):(T.depthWrite=!0,T.transparent=!1,T.opacity=1),x&&(x.geometry.dispose(),x.parent.remove(x)),x=h.evaluateHierarchy(B),x.material=g,c.add(x),I.geometry=x.geometry,I.visible=p.wireframe;const o=window.performance.now()-e;m.innerText=`${o.toFixed(3)}ms`,O.enabled=p.displayControls,O.visible=p.displayControls,x.visible="BRUSHES"!==p.display,B.visible="RESULT"!==p.display,w.render(c,l)}!async function(){m=document.getElementById("output"),w=new i.WebGLRenderer({antialias:!0}),w.setPixelRatio(window.devicePixelRatio),w.setSize(window.innerWidth,window.innerHeight),w.setClearColor(1118481,1),document.body.appendChild(w.domElement),c=new i.Scene,u=new i.DirectionalLight(16777215,3.5),u.position.set(-1,2,3),c.add(u,u.target),c.add(new i.AmbientLight(11583173,.35)),l=new i.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,50),l.position.set(3,2,4).multiplyScalar(2),l.far=100,l.updateProjectionMatrix(),f=new(0,s.OrbitControls)(l,w.domElement),O=new(0,a.TransformControls)(l,w.domElement),O.setSize(.75),O.addEventListener("dragging-changed",(e=>{f.enabled=!e.value})),O.addEventListener("objectChange",(e=>{if(p.snap){const e=O.object;e.position.x=.1*Math.floor(10*e.position.x),e.position.y=.1*Math.floor(10*e.position.y),e.position.z=.1*Math.floor(10*e.position.z)}})),c.add(O),h=new(0,d.Evaluator),h.attributes=["position","normal"],h.useGroups=!1,T=new(0,d.GridMaterial),T.side=i.DoubleSide,T.polygonOffset=!0,T.polygonOffsetFactor=2,T.polygonOffsetUnits=1,T.opacity=.15,T.transparent=!0,T.depthWrite=!1,T.color.set(16761856),g=T.clone(),g.opacity=1,g.transparent=!1,g.depthWrite=!0,g.polygonOffsetFactor=1,g.polygonOffsetUnits=1,g.color.set(16777215),I=new i.Mesh(void 0,new i.MeshBasicMaterial({color:0,wireframe:!0})),I.material.color.set(16761856).multiplyScalar(.1),c.add(I),B=new(0,d.Operation)(new i.BoxGeometry(10,5,5),T),c.add(B);{const e=new(0,d.Operation)(new i.BoxGeometry(9,4.5,4),T);e.operation=d.SUBTRACTION,B.add(e)}{const e=new(0,d.Operation)(new i.CylinderGeometry(.5,.5,1,20),T);e.operation=d.SUBTRACTION,e.rotateX(Math.PI/2),e.position.y=.25;const o=new(0,d.Operation)(new i.BoxGeometry(1,2.5,1),T);o.operation=d.SUBTRACTION,o.position.y=-1;const n=new(0,d.OperationGroup);n.position.z=2.2,n.add(e,o),B.add(n),O.attach(n)}{const e=new(0,d.Operation)(new i.BoxGeometry(2,1.75,2),T);e.operation=d.SUBTRACTION;const o=new(0,d.Operation)(new i.BoxGeometry(2,1.75,.2),T);o.operation=d.ADDITION;const n=new(0,d.Operation)(new i.BoxGeometry(1.9,1.65,2),T);n.operation=d.SUBTRACTION;const t=new(0,d.Operation)(new i.BoxGeometry(2,.1,.1),T);t.operation=d.ADDITION;const r=new(0,d.Operation)(new i.BoxGeometry(.1,2,.1),T);r.operation=d.ADDITION;const a=new(0,d.OperationGroup);a.add(e,o,n,t,r),a.position.x=-3,a.position.z=2.2,B.add(a)}{const e=new(0,d.Operation)(new i.BoxGeometry(2,1.75,2),T);e.operation=d.SUBTRACTION;const o=new(0,d.Operation)(new i.BoxGeometry(2,1.75,.2),T);o.operation=d.ADDITION;const n=new(0,d.Operation)(new i.BoxGeometry(1.9,1.65,2),T);n.operation=d.SUBTRACTION;const t=new(0,d.Operation)(new i.BoxGeometry(2,.1,.1),T);t.operation=d.ADDITION;const r=new(0,d.Operation)(new i.BoxGeometry(.1,2,.1),T);r.operation=d.ADDITION;const a=new(0,d.OperationGroup);a.add(e,o,n,t,r),a.position.x=3,a.position.z=2.2,B.add(a)}y=new(0,r.GUI),y.add(p,"wireframe"),y.add(p,"snap"),y.add(p,"displayControls"),y.add(p,"transparentBrushes"),y.add(p,"display",["OVERLAY","BRUSHES","RESULT"]),window.addEventListener("resize",(function(){l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix(),w.setSize(window.innerWidth,window.innerHeight)}),!1),window.addEventListener("keydown",(function(e){switch(e.code){case"KeyW":O.setMode("translate");break;case"KeyE":O.setMode("rotate");break;case"KeyR":O.setMode("scale")}})),C()}();
//# sourceMappingURL=hierarchy.aa51a717.js.map
